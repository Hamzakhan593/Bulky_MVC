@model IEnumerable<Bulky.Models.Product>

@{
    ViewData["Title"] = "Book Store";
}

<div class="container py-5">
    <h2 class="text-center display-5 fw-bold mb-5 text-primary">📚 Explore Our Book Collection</h2>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        @foreach (var product in Model)
        {
            <div class="col">
                <div class="card h-100 border-0 rounded-4 shadow book-card transition">
                    <div class="position-relative book-image-wrapper">
                        <img src="@product.ImageURL" class="card-img-top book-image" alt="@product.Title" />

                        @if (product.ListPrice > product.Price)
                        {
                            <span class="badge bg-danger position-absolute top-0 start-0 m-2 z-3">
                                Save @((product.ListPrice - product.Price).ToString("C"))
                            </span>
                        }

                        <div class="book-title-overlay">
                            <div class="title-text">@product.Title</div>
                        </div>
                    </div>

                    <div class="card-body d-flex flex-column justify-content-between">
                        <p class="text-center text-muted mb-1">
                            by <span class="fw-bold text-warning">@product.Author</span>
                        </p>
                        <p class="text-center text-danger mb-1 fs-6">
                            <del>@product.ListPrice.ToString("C")</del>
                        </p>
                        <p class="text-center fw-bold fs-6 mb-3">
                            <span class="text-success">Now @product.Price.ToString("C")</span>
                        </p>
                        <div class="text-center mt-auto">
                            <a href="Details" class="btn btn-gradient btn-sm px-4 rounded-pill">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<style>
    .book-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }

    .book-image-wrapper {
        height: 250px;
        overflow: hidden;
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
        position: relative;
    }

    .book-image {
        height: 100%;
        width: 100%;
        object-fit: cover;
        transition: transform 0.4s ease;
    }

    .book-card:hover .book-image {
        transform: scale(1.05);
    }

    .book-title-overlay {
        position: absolute;
        bottom: 0;
        width: 100%;
        padding: 0.75rem;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.75), transparent);
        z-index: 2;
        text-align: center;
    }

        .book-title-overlay .title-text {
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }

    .btn-gradient {
        background: linear-gradient(90deg, #667eea, #764ba2);
        color: white;
        border: none;
    }

        .btn-gradient:hover {
            background: linear-gradient(90deg, #5a67d8, #6b46c1);
            color: #fff;
        }
</style>
